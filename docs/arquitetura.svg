<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="900px" preserveAspectRatio="none" style="width:2069px;height:900px;background:#FFFFFF;" version="1.1" viewBox="0 0 2069 900" width="2069px" zoomAndPan="magnify"><title>Arquitetura Backend Mon&#243;lito Modular</title><defs/><g><g class="title" data-source-line="3"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="307.2891" x="873.8555" y="22.9951">Arquitetura Backend Mon&#243;lito Modular</text></g><!--cluster Infraestrutura--><g class="cluster" data-entity="Infraestrutura" data-source-line="6" data-uid="ent0002" id="cluster_Infraestrutura"><path d="M1001.5,783.8669 L1114.5205,783.8669 A3.75,3.75 0 0 1 1117.0205,786.3669 L1124.0205,806.1637 L2059.5,806.1637 A2.5,2.5 0 0 1 2062,808.6637 L2062,890.9569 A2.5,2.5 0 0 1 2059.5,893.4569 L1001.5,893.4569 A2.5,2.5 0 0 1 999,890.9569 L999,786.3669 A2.5,2.5 0 0 1 1001.5,783.8669" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="999" x2="1124.0205" y1="806.1637" y2="806.1637"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="112.0205" x="1003" y="798.862">Infraestrutura</text></g><!--cluster Aplica??o--><g class="cluster" data-entity="Aplica..o" data-source-line="14" data-uid="ent0007" id="cluster_Aplica..o"><path d="M8.5,43.2969 L85.0645,43.2969 A3.75,3.75 0 0 1 87.5645,45.7969 L94.5645,65.5938 L972.5,65.5938 A2.5,2.5 0 0 1 975,68.0938 L975,890.9569 A2.5,2.5 0 0 1 972.5,893.4569 L8.5,893.4569 A2.5,2.5 0 0 1 6,890.9569 L6,45.7969 A2.5,2.5 0 0 1 8.5,43.2969" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="94.5645" y1="65.5938" y2="65.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="75.5645" x="10" y="58.292">Aplica&#231;&#227;o</text></g><!--class Postgres--><g class="entity" data-entity="Postgres" data-source-line="7" data-uid="ent0003" id="entity_Postgres"><rect fill="#F1F1F1" height="58.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="287.917" x="1286.04" y="818.8669"/><ellipse cx="1301.04" cy="840.1637" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1304.0088,845.8044 Q1303.4306,846.1012 1302.79,846.2419 Q1302.1494,846.3981 1301.4463,846.3981 Q1298.9463,846.3981 1297.6181,844.7575 Q1296.3056,843.1012 1296.3056,839.9762 Q1296.3056,836.8512 1297.6181,835.195 Q1298.9463,833.5387 1301.4463,833.5387 Q1302.1494,833.5387 1302.79,833.695 Q1303.4463,833.8512 1304.0088,834.1481 L1304.0088,836.8669 Q1303.3838,836.2887 1302.79,836.0231 Q1302.1963,835.7419 1301.5713,835.7419 Q1300.2275,835.7419 1299.54,836.82 Q1298.8525,837.8825 1298.8525,839.9762 Q1298.8525,842.07 1299.54,843.1481 Q1300.2275,844.2106 1301.5713,844.2106 Q1302.1963,844.2106 1302.79,843.945 Q1303.3838,843.6637 1304.0088,843.0856 L1304.0088,845.8044 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.7529" x="1402.622" y="836.862">PostgreSQL</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="255.917" x="1315.04" y="853.1589">(Base NCM, TIPI, Usu&#225;rios, Hist&#243;rico)</text><line style="stroke:#181818;stroke-width:0.5;" x1="1287.04" x2="1572.957" y1="861.4606" y2="861.4606"/><line style="stroke:#181818;stroke-width:0.5;" x1="1287.04" x2="1572.957" y1="869.4606" y2="869.4606"/></g><!--class Ollama--><g class="entity" data-entity="Ollama" data-source-line="8" data-uid="ent0004" id="entity_Ollama"><rect fill="#F1F1F1" height="58.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113.7236" x="1609.14" y="818.8669"/><ellipse cx="1624.14" cy="840.1637" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1627.1088,845.8044 Q1626.5306,846.1012 1625.89,846.2419 Q1625.2494,846.3981 1624.5463,846.3981 Q1622.0463,846.3981 1620.7181,844.7575 Q1619.4056,843.1012 1619.4056,839.9762 Q1619.4056,836.8512 1620.7181,835.195 Q1622.0463,833.5387 1624.5463,833.5387 Q1625.2494,833.5387 1625.89,833.695 Q1626.5463,833.8512 1627.1088,834.1481 L1627.1088,836.8669 Q1626.4838,836.2887 1625.89,836.0231 Q1625.2963,835.7419 1624.6713,835.7419 Q1623.3275,835.7419 1622.64,836.82 Q1621.9525,837.8825 1621.9525,839.9762 Q1621.9525,842.07 1622.64,843.1481 Q1623.3275,844.2106 1624.6713,844.2106 Q1625.2963,844.2106 1625.89,843.945 Q1626.4838,843.6637 1627.1088,843.0856 L1627.1088,845.8044 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.7236" x="1638.14" y="836.862">Ollama LLM</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.6113" x="1646.1962" y="853.1589">(IA Local)</text><line style="stroke:#181818;stroke-width:0.5;" x1="1610.14" x2="1721.8636" y1="861.4606" y2="861.4606"/><line style="stroke:#181818;stroke-width:0.5;" x1="1610.14" x2="1721.8636" y1="869.4606" y2="869.4606"/></g><!--class Metrics--><g class="entity" data-entity="Metrics" data-source-line="9" data-uid="ent0005" id="entity_Metrics"><rect fill="#F1F1F1" height="58.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="236.0938" x="1014.95" y="818.8669"/><ellipse cx="1029.95" cy="840.1637" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1032.9188,845.8044 Q1032.3406,846.1012 1031.7,846.2419 Q1031.0594,846.3981 1030.3563,846.3981 Q1027.8563,846.3981 1026.5281,844.7575 Q1025.2156,843.1012 1025.2156,839.9762 Q1025.2156,836.8512 1026.5281,835.195 Q1027.8563,833.5387 1030.3563,833.5387 Q1031.0594,833.5387 1031.7,833.695 Q1032.3563,833.8512 1032.9188,834.1481 L1032.9188,836.8669 Q1032.2938,836.2887 1031.7,836.0231 Q1031.1063,835.7419 1030.4813,835.7419 Q1029.1375,835.7419 1028.45,836.82 Q1027.7625,837.8825 1027.7625,839.9762 Q1027.7625,842.07 1028.45,843.1481 Q1029.1375,844.2106 1030.4813,844.2106 Q1031.1063,844.2106 1031.7,843.945 Q1032.2938,843.6637 1032.9188,843.0856 L1032.9188,845.8044 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160.9316" x="1065.5311" y="836.862">Prometheus + Grafana</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204.0938" x="1043.95" y="853.1589">(M&#233;tricas &amp; Observabilidade)</text><line style="stroke:#181818;stroke-width:0.5;" x1="1015.95" x2="1250.0438" y1="861.4606" y2="861.4606"/><line style="stroke:#181818;stroke-width:0.5;" x1="1015.95" x2="1250.0438" y1="869.4606" y2="869.4606"/></g><!--class Storage--><g class="entity" data-entity="Storage" data-source-line="10" data-uid="ent0006" id="entity_Storage"><rect fill="#F1F1F1" height="58.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="287.5684" x="1758.22" y="818.8669"/><ellipse cx="1773.22" cy="840.1637" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1776.1888,845.8044 Q1775.6106,846.1012 1774.97,846.2419 Q1774.3294,846.3981 1773.6263,846.3981 Q1771.1263,846.3981 1769.7981,844.7575 Q1768.4856,843.1012 1768.4856,839.9762 Q1768.4856,836.8512 1769.7981,835.195 Q1771.1263,833.5387 1773.6263,833.5387 Q1774.3294,833.5387 1774.97,833.695 Q1775.6263,833.8512 1776.1888,834.1481 L1776.1888,836.8669 Q1775.5638,836.2887 1774.97,836.0231 Q1774.3763,835.7419 1773.7513,835.7419 Q1772.4075,835.7419 1771.72,836.82 Q1771.0325,837.8825 1771.0325,839.9762 Q1771.0325,842.07 1771.72,843.1481 Q1772.4075,844.2106 1773.7513,844.2106 Q1774.3763,844.2106 1774.97,843.945 Q1775.5638,843.6637 1776.1888,843.0856 L1776.1888,845.8044 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197.5244" x="1816.242" y="836.862">Sistema de Arquivos / MinIO</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="255.5684" x="1787.22" y="853.1589">(Armazenamento PDFs tempor&#225;rios)</text><line style="stroke:#181818;stroke-width:0.5;" x1="1759.22" x2="2044.7884" y1="861.4606" y2="861.4606"/><line style="stroke:#181818;stroke-width:0.5;" x1="1759.22" x2="2044.7884" y1="869.4606" y2="869.4606"/></g><!--class API--><g class="entity" data-entity="API" data-source-line="16" data-uid="ent0008" id="entity_API"><rect fill="#F1F1F1" height="58.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="343.9854" x="272.01" y="78.2969"/><ellipse cx="287.01" cy="99.5938" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M289.9788,105.2344 Q289.4006,105.5313 288.76,105.6719 Q288.1194,105.8281 287.4163,105.8281 Q284.9163,105.8281 283.5881,104.1875 Q282.2756,102.5313 282.2756,99.4063 Q282.2756,96.2813 283.5881,94.625 Q284.9163,92.9688 287.4163,92.9688 Q288.1194,92.9688 288.76,93.125 Q289.4163,93.2813 289.9788,93.5781 L289.9788,96.2969 Q289.3538,95.7188 288.76,95.4531 Q288.1663,95.1719 287.5413,95.1719 Q286.1975,95.1719 285.51,96.25 Q284.8225,97.3125 284.8225,99.4063 Q284.8225,101.5 285.51,102.5781 Q286.1975,103.6406 287.5413,103.6406 Q288.1663,103.6406 288.76,103.375 Q289.3538,103.0938 289.9788,102.5156 L289.9788,105.2344 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153.8018" x="380.1018" y="96.292">API / Interface Module</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="311.9854" x="301.01" y="112.5889">(FastAPI endpoints, valida&#231;&#227;o, autentica&#231;&#227;o)</text><line style="stroke:#181818;stroke-width:0.5;" x1="273.01" x2="614.9954" y1="120.8906" y2="120.8906"/><line style="stroke:#181818;stroke-width:0.5;" x1="273.01" x2="614.9954" y1="128.8906" y2="128.8906"/></g><!--class Auth--><g class="entity" data-entity="Auth" data-source-line="18" data-uid="ent0009" id="entity_Auth"><rect fill="#F1F1F1" height="58.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="237.2832" x="325.36" y="213.8969"/><ellipse cx="340.36" cy="235.1938" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M343.3288,240.8344 Q342.7506,241.1313 342.11,241.2719 Q341.4694,241.4281 340.7663,241.4281 Q338.2663,241.4281 336.9381,239.7875 Q335.6256,238.1313 335.6256,235.0063 Q335.6256,231.8813 336.9381,230.225 Q338.2663,228.5688 340.7663,228.5688 Q341.4694,228.5688 342.11,228.725 Q342.7663,228.8813 343.3288,229.1781 L343.3288,231.8969 Q342.7038,231.3188 342.11,231.0531 Q341.5163,230.7719 340.8913,230.7719 Q339.5475,230.7719 338.86,231.85 Q338.1725,232.9125 338.1725,235.0063 Q338.1725,237.1 338.86,238.1781 Q339.5475,239.2406 340.8913,239.2406 Q341.5163,239.2406 342.11,238.975 Q342.7038,238.6938 343.3288,238.1156 L343.3288,240.8344 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.1699" x="412.9166" y="231.892">Auth Module</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205.2832" x="354.36" y="248.1889">(Login/Logout, JWT, usu&#225;rios)</text><line style="stroke:#181818;stroke-width:0.5;" x1="326.36" x2="561.6432" y1="256.4906" y2="256.4906"/><line style="stroke:#181818;stroke-width:0.5;" x1="326.36" x2="561.6432" y1="264.4906" y2="264.4906"/></g><!--class Upload--><g class="entity" data-entity="Upload" data-source-line="19" data-uid="ent0010" id="entity_Upload"><rect fill="#F1F1F1" height="58.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="352.373" x="597.81" y="213.8969"/><ellipse cx="612.81" cy="235.1938" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M615.7788,240.8344 Q615.2006,241.1313 614.56,241.2719 Q613.9194,241.4281 613.2163,241.4281 Q610.7163,241.4281 609.3881,239.7875 Q608.0756,238.1313 608.0756,235.0063 Q608.0756,231.8813 609.3881,230.225 Q610.7163,228.5688 613.2163,228.5688 Q613.9194,228.5688 614.56,228.725 Q615.2163,228.8813 615.7788,229.1781 L615.7788,231.8969 Q615.1538,231.3188 614.56,231.0531 Q613.9663,230.7719 613.3413,230.7719 Q611.9975,230.7719 611.31,231.85 Q610.6225,232.9125 610.6225,235.0063 Q610.6225,237.1 611.31,238.1781 Q611.9975,239.2406 613.3413,239.2406 Q613.9663,239.2406 614.56,238.975 Q615.1538,238.6938 615.7788,238.1156 L615.7788,240.8344 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195.6992" x="689.1469" y="231.892">Upload &amp; Extraction Module</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="320.373" x="626.81" y="248.1889">(Upload PDF, extra&#231;&#227;o de texto/partnumbers)</text><line style="stroke:#181818;stroke-width:0.5;" x1="598.81" x2="949.183" y1="256.4906" y2="256.4906"/><line style="stroke:#181818;stroke-width:0.5;" x1="598.81" x2="949.183" y1="264.4906" y2="264.4906"/></g><!--class AI--><g class="entity" data-entity="AI" data-source-line="20" data-uid="ent0011" id="entity_AI"><rect fill="#F1F1F1" height="58.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="390.6338" x="568.68" y="391.0869"/><ellipse cx="583.68" cy="412.3837" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M586.6488,418.0244 Q586.0706,418.3212 585.43,418.4619 Q584.7894,418.6181 584.0863,418.6181 Q581.5863,418.6181 580.2581,416.9775 Q578.9456,415.3212 578.9456,412.1962 Q578.9456,409.0712 580.2581,407.415 Q581.5863,405.7587 584.0863,405.7587 Q584.7894,405.7587 585.43,405.915 Q586.0863,406.0712 586.6488,406.3681 L586.6488,409.0869 Q586.0238,408.5087 585.43,408.2431 Q584.8363,407.9619 584.2113,407.9619 Q582.8675,407.9619 582.18,409.04 Q581.4925,410.1025 581.4925,412.1962 Q581.4925,414.29 582.18,415.3681 Q582.8675,416.4306 584.2113,416.4306 Q584.8363,416.4306 585.43,416.165 Q586.0238,415.8837 586.6488,415.3056 L586.6488,418.0244 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169.4082" x="692.2928" y="409.082">AI Orchestration Module</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="358.6338" x="597.68" y="425.3789">(Orquestra agentes SmolAgents, coordena Ollama)</text><line style="stroke:#181818;stroke-width:0.5;" x1="569.68" x2="958.3138" y1="433.6806" y2="433.6806"/><line style="stroke:#181818;stroke-width:0.5;" x1="569.68" x2="958.3138" y1="441.6806" y2="441.6806"/></g><!--class Classify--><g class="entity" data-entity="Classify" data-source-line="21" data-uid="ent0012" id="entity_Classify"><rect fill="#F1F1F1" height="58.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="346.8975" x="399.55" y="526.6769"/><ellipse cx="414.55" cy="547.9738" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M417.5188,553.6144 Q416.9406,553.9113 416.3,554.0519 Q415.6594,554.2081 414.9563,554.2081 Q412.4563,554.2081 411.1281,552.5675 Q409.8156,550.9113 409.8156,547.7863 Q409.8156,544.6613 411.1281,543.005 Q412.4563,541.3488 414.9563,541.3488 Q415.6594,541.3488 416.3,541.505 Q416.9563,541.6613 417.5188,541.9581 L417.5188,544.6769 Q416.8938,544.0988 416.3,543.8331 Q415.7063,543.5519 415.0813,543.5519 Q413.7375,543.5519 413.05,544.63 Q412.3625,545.6925 412.3625,547.7863 Q412.3625,549.88 413.05,550.9581 Q413.7375,552.0206 415.0813,552.0206 Q415.7063,552.0206 416.3,551.755 Q416.8938,551.4738 417.5188,550.8956 L417.5188,553.6144 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.9912" x="512.0031" y="544.672">Classification Module</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="314.8975" x="428.55" y="560.9689">(Regras heur&#237;sticas, embeddings, base NCM)</text><line style="stroke:#181818;stroke-width:0.5;" x1="400.55" x2="745.4475" y1="569.2706" y2="569.2706"/><line style="stroke:#181818;stroke-width:0.5;" x1="400.55" x2="745.4475" y1="577.2706" y2="577.2706"/></g><!--class Tax--><g class="entity" data-entity="Tax" data-source-line="22" data-uid="ent0013" id="entity_Tax"><rect fill="#F1F1F1" height="58.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="276.4053" x="319.8" y="662.2669"/><ellipse cx="334.8" cy="683.5637" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M337.7688,689.2044 Q337.1906,689.5012 336.55,689.6419 Q335.9094,689.7981 335.2063,689.7981 Q332.7063,689.7981 331.3781,688.1575 Q330.0656,686.5012 330.0656,683.3762 Q330.0656,680.2512 331.3781,678.595 Q332.7063,676.9387 335.2063,676.9387 Q335.9094,676.9387 336.55,677.095 Q337.2063,677.2512 337.7688,677.5481 L337.7688,680.2669 Q337.1438,679.6887 336.55,679.4231 Q335.9563,679.1419 335.3313,679.1419 Q333.9875,679.1419 333.3,680.22 Q332.6125,681.2825 332.6125,683.3762 Q332.6125,685.47 333.3,686.5481 Q333.9875,687.6106 335.3313,687.6106 Q335.9563,687.6106 336.55,687.345 Q337.1438,687.0637 337.7688,686.4856 L337.7688,689.2044 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.1699" x="412.9177" y="680.262">Taxation Module</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="244.4053" x="348.8" y="696.5589">(Consulta TIPI, determina al&#237;quota)</text><line style="stroke:#181818;stroke-width:0.5;" x1="320.8" x2="595.2053" y1="704.8606" y2="704.8606"/><line style="stroke:#181818;stroke-width:0.5;" x1="320.8" x2="595.2053" y1="712.8606" y2="712.8606"/></g><!--class Report--><g class="entity" data-entity="Report" data-source-line="23" data-uid="ent0014" id="entity_Report"><rect fill="#F1F1F1" height="58.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="307.8574" x="26.07" y="302.4869"/><ellipse cx="41.07" cy="323.7837" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M44.0388,329.4244 Q43.4606,329.7212 42.82,329.8619 Q42.1794,330.0181 41.4763,330.0181 Q38.9763,330.0181 37.6481,328.3775 Q36.3356,326.7212 36.3356,323.5962 Q36.3356,320.4712 37.6481,318.815 Q38.9763,317.1587 41.4763,317.1587 Q42.1794,317.1587 42.82,317.315 Q43.4763,317.4712 44.0388,317.7681 L44.0388,320.4869 Q43.4138,319.9087 42.82,319.6431 Q42.2263,319.3619 41.6013,319.3619 Q40.2575,319.3619 39.57,320.44 Q38.8825,321.5025 38.8825,323.5962 Q38.8825,325.69 39.57,326.7681 Q40.2575,327.8306 41.6013,327.8306 Q42.2263,327.8306 42.82,327.565 Q43.4138,327.2837 44.0388,326.7056 L44.0388,329.4244 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.0449" x="130.9763" y="320.482">Reporting Module</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="275.8574" x="55.07" y="336.7789">(Gera&#231;&#227;o Excel, exporta&#231;&#227;o, download)</text><line style="stroke:#181818;stroke-width:0.5;" x1="27.07" x2="332.9274" y1="345.0806" y2="345.0806"/><line style="stroke:#181818;stroke-width:0.5;" x1="27.07" x2="332.9274" y1="353.0806" y2="353.0806"/></g><!--class History--><g class="entity" data-entity="History" data-source-line="24" data-uid="ent0015" id="entity_History"><rect fill="#F1F1F1" height="58.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="317.2979" x="42.35" y="818.8669"/><ellipse cx="57.35" cy="840.1637" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M60.3188,845.8044 Q59.7406,846.1012 59.1,846.2419 Q58.4594,846.3981 57.7563,846.3981 Q55.2563,846.3981 53.9281,844.7575 Q52.6156,843.1012 52.6156,839.9762 Q52.6156,836.8512 53.9281,835.195 Q55.2563,833.5387 57.7563,833.5387 Q58.4594,833.5387 59.1,833.695 Q59.7563,833.8512 60.3188,834.1481 L60.3188,836.8669 Q59.6938,836.2887 59.1,836.0231 Q58.5063,835.7419 57.8813,835.7419 Q56.5375,835.7419 55.85,836.82 Q55.1625,837.8825 55.1625,839.9762 Q55.1625,842.07 55.85,843.1481 Q56.5375,844.2106 57.8813,844.2106 Q58.5063,844.2106 59.1,843.945 Q59.6938,843.6637 60.3188,843.0856 L60.3188,845.8044 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161.6973" x="133.1503" y="836.862">History &amp; Audit Module</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="285.2979" x="71.35" y="853.1589">(Hist&#243;rico, evid&#234;ncias, logs de opera&#231;&#227;o)</text><line style="stroke:#181818;stroke-width:0.5;" x1="43.35" x2="358.6479" y1="861.4606" y2="861.4606"/><line style="stroke:#181818;stroke-width:0.5;" x1="43.35" x2="358.6479" y1="869.4606" y2="869.4606"/></g><!--class Logging--><g class="entity" data-entity="Logging" data-source-line="25" data-uid="ent0016" id="entity_Logging"><rect fill="#F1F1F1" height="58.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="327.8525" x="631.07" y="662.2669"/><ellipse cx="646.07" cy="683.5637" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M649.0388,689.2044 Q648.4606,689.5012 647.82,689.6419 Q647.1794,689.7981 646.4763,689.7981 Q643.9763,689.7981 642.6481,688.1575 Q641.3356,686.5012 641.3356,683.3762 Q641.3356,680.2512 642.6481,678.595 Q643.9763,676.9387 646.4763,676.9387 Q647.1794,676.9387 647.82,677.095 Q648.4763,677.2512 649.0388,677.5481 L649.0388,680.2669 Q648.4138,679.6887 647.82,679.4231 Q647.2263,679.1419 646.6013,679.1419 Q645.2575,679.1419 644.57,680.22 Q643.8825,681.2825 643.8825,683.3762 Q643.8825,685.47 644.57,686.5481 Q645.2575,687.6106 646.6013,687.6106 Q647.2263,687.6106 647.82,687.345 Q648.4138,687.0637 649.0388,686.4856 L649.0388,689.2044 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181.7813" x="717.1056" y="680.262">Logging &amp; Metrics Module</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="295.8525" x="660.07" y="696.5589">(Logs estruturados, m&#233;tricas Prometheus)</text><line style="stroke:#181818;stroke-width:0.5;" x1="632.07" x2="957.9225" y1="704.8606" y2="704.8606"/><line style="stroke:#181818;stroke-width:0.5;" x1="632.07" x2="957.9225" y1="712.8606" y2="712.8606"/></g><!--link API to Auth--><g class="link" data-entity-1="API" data-entity-2="Auth" data-source-line="29" data-uid="lnk17" id="link_API_Auth"><path codeLine="29" d="M444,137.2569 C444,159.7969 444,185.0469 444,207.5769" fill="none" id="API-to-Auth" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="444,213.5769,448,204.5769,444,208.5769,440,204.5769,444,213.5769" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84.4302" x="445" y="179.9638">autentica&#231;&#227;o</text></g><!--link API to Upload--><g class="link" data-entity-1="API" data-entity-2="Upload" data-source-line="30" data-uid="lnk18" id="link_API_Upload"><path codeLine="30" d="M514.79,137.2569 C570.38,159.7569 641.8484,188.6955 697.4784,211.2155" fill="none" id="API-to-Upload" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="703.04,213.4669,696.1986,206.382,698.4054,211.5907,693.1967,213.7975,703.04,213.4669" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71.7412" x="630" y="179.9638">envia PDFs</text></g><!--link API to Report--><g class="link" data-entity-1="API" data-entity-2="Report" data-source-line="31" data-uid="lnk19" id="link_API_Report"><path codeLine="31" d="M271.54,135.8469 C254.74,143.7969 239.1,153.9569 226,166.8969 C189.42,203.0269 181.5467,259.7615 180.1067,296.2415" fill="none" id="API-to-Report" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="179.87,302.2369,184.2219,293.4017,180.0672,297.2408,176.2281,293.0861,179.87,302.2369" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208.5713" x="227" y="179.9638">solicita gera&#231;&#227;o/download Excel</text></g><!--link Upload to AI--><g class="link" data-entity-1="Upload" data-entity-2="AI" data-source-line="33" data-uid="lnk20" id="link_Upload_AI"><path codeLine="33" d="M772.37,272.7269 C770.51,305.3069 767.8321,352.2966 765.9721,384.8666" fill="none" id="Upload-to-AI" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="765.63,390.8569,770.1366,382.0996,765.9151,385.865,762.1496,381.6435,765.63,390.8569" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188.6333" x="772" y="336.3538">envia partnumbers extra&#237;dos</text></g><!--link AI to Classify--><g class="link" data-entity-1="AI" data-entity-2="Classify" data-source-line="34" data-uid="lnk21" id="link_AI_Classify"><path codeLine="34" d="M723.03,450.0369 C690.8,472.5769 651.0373,500.3989 618.8273,522.9189" fill="none" id="AI-to-Classify" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="613.91,526.3569,623.578,524.4781,618.0078,523.4919,618.994,517.9216,613.91,526.3569" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.8892" x="681" y="492.7438">envia specs normalizadas</text></g><!--link Classify to Tax--><g class="link" data-entity-1="Classify" data-entity-2="Tax" data-source-line="35" data-uid="lnk22" id="link_Classify_Tax"><path codeLine="35" d="M548.33,585.6269 C528.93,608.1769 505.9339,634.8792 486.5439,657.4092" fill="none" id="Classify-to-Tax" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="482.63,661.9569,491.5326,657.7446,485.8916,658.1671,485.469,652.5261,482.63,661.9569" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236.7993" x="524" y="628.3338">envia NCM para determinar al&#237;quota</text></g><!--link Classify to History--><g class="link" data-entity-1="Classify" data-entity-2="History" data-source-line="36" data-uid="lnk23" id="link_Classify_History"><path codeLine="36" d="M399.27,574.1369 C283.89,589.5469 147.2,616.8869 111,662.2669 C71.82,711.3869 124.7377,776.1851 164.3377,814.4951" fill="none" id="Classify-to-History" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="168.65,818.6669,164.9628,809.5343,165.0564,815.1904,159.4003,815.284,168.65,818.6669" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189.7759" x="112" y="696.1338">registra decis&#227;o e evid&#234;ncias</text></g><!--link Tax to History--><g class="link" data-entity-1="Tax" data-entity-2="History" data-source-line="37" data-uid="lnk24" id="link_Tax_History"><path codeLine="37" d="M341.05,721.1869 C320.41,729.0069 299.85,738.7669 282,750.8669 C255.78,768.6369 236.6599,792.2094 222.0699,813.6094" fill="none" id="Tax-to-History" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="218.69,818.5669,227.0648,813.3839,221.5066,814.4357,220.4548,808.8774,218.69,818.5669" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.0171" x="283" y="763.9338">registra c&#225;lculo de imposto</text></g><!--link Report to History--><g class="link" data-entity-1="Report" data-entity-2="History" data-source-line="38" data-uid="lnk25" id="link_Report_History"><path codeLine="38" d="M165.3,361.2869 C134.14,425.1869 66.18,584.9569 90,720.8669 C93.84,742.7469 94.3,749.6369 107,767.8669 C120.55,787.3069 135.2587,801.1459 152.9687,814.7259" fill="none" id="Report-to-History" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="157.73,818.3769,153.022,809.7262,153.7622,815.3344,148.154,816.0746,157.73,818.3769" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.2402" x="105" y="560.5438">registra opera&#231;&#227;o final</text></g><!--link Logging to History--><g class="link" data-entity-1="Logging" data-entity-2="History" data-source-line="39" data-uid="lnk26" id="link_Logging_History"><path codeLine="39" d="M684.67,721.2769 C578.23,748.9869 423.7966,789.1759 317.3066,816.8859" fill="none" id="Logging-to-History" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="311.5,818.3969,321.2173,820.0015,316.3389,817.1377,319.2026,812.2593,311.5,818.3969" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70.4971" x="570" y="763.9338">coleta logs</text></g><!--link Logging to Metrics--><g class="link" data-entity-1="Logging" data-entity-2="Metrics" data-source-line="40" data-uid="lnk27" id="link_Logging_Metrics"><path codeLine="40" d="M833.85,721.2369 C857.8,737.4869 889.8,756.7269 921,767.8669 C943.85,776.0169 951.72,769.0269 975,775.8669 C1010.95,786.4169 1043.9248,800.9009 1073.8448,815.7409" fill="none" id="Logging-to-Metrics" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1079.22,818.4069,1072.9346,810.8244,1074.7407,816.1852,1069.3799,817.9913,1079.22,818.4069" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.2432" x="922" y="763.9338">envia m&#233;tricas</text></g><!--link Auth to Postgres--><g class="link" data-entity-1="Auth" data-entity-2="Postgres" data-source-line="43" data-uid="lnk28" id="link_Auth_Postgres"><path codeLine="43" d="M562.89,269.8469 C568.66,270.8069 574.39,271.6869 580,272.4869 C764.58,298.6969 1406,232.9469 1406,419.3769 C1406,419.3769 1406,419.3769 1406,692.5669 C1406,736.9769 1414.4505,781.8683 1421.5205,812.7383" fill="none" id="Auth-to-Postgres" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1422.86,818.5869,1424.7498,808.921,1421.7438,813.7131,1416.9517,810.707,1422.86,818.5869" style="stroke:#181818;stroke-width:1;"/></g><!--link Upload to Storage--><g class="link" data-entity-1="Upload" data-entity-2="Storage" data-source-line="44" data-uid="lnk29" id="link_Upload_Storage"><path codeLine="44" d="M950.63,257.5069 C1236.77,281.4669 1770,337.1669 1770,419.3769 C1770,419.3769 1770,419.3769 1770,692.5669 C1770,746.5669 1812.2743,787.7401 1850.2143,814.9501" fill="none" id="Upload-to-Storage" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1855.09,818.4469,1850.1076,809.9512,1851.0269,815.5329,1845.4453,816.4522,1855.09,818.4469" style="stroke:#181818;stroke-width:1;"/></g><!--link Classify to Postgres--><g class="link" data-entity-1="Classify" data-entity-2="Postgres" data-source-line="45" data-uid="lnk30" id="link_Classify_Postgres"><path codeLine="45" d="M697.97,585.7169 C778.1,605.1069 883.97,632.5169 976,662.2669 C1108.89,705.2369 1140,722.3269 1269,775.8669 C1301.61,789.3969 1332.0965,802.769 1361.7365,816.079" fill="none" id="Classify-to-Postgres" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1367.21,818.5369,1360.6384,811.2011,1362.6488,816.4886,1357.3612,818.499,1367.21,818.5369" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89.1782" x="1138" y="696.1338">consulta NCM</text></g><!--link Tax to Postgres--><g class="link" data-entity-1="Tax" data-entity-2="Postgres" data-source-line="46" data-uid="lnk31" id="link_Tax_Postgres"><path codeLine="46" d="M560.12,721.3069 C625.76,738.3469 713.21,758.4269 792,767.8669 C844.63,774.1669 1217.23,764.4569 1269,775.8669 C1307.66,784.3769 1343.0743,799.7828 1373.8943,815.6328" fill="none" id="Tax-to-Postgres" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1379.23,818.3769,1373.0557,810.7036,1374.7835,816.0902,1369.397,817.818,1379.23,818.3769" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.6084" x="793" y="763.9338">consulta TIPI</text></g><!--link AI to Ollama--><g class="link" data-entity-1="AI" data-entity-2="Ollama" data-source-line="47" data-uid="lnk32" id="link_AI_Ollama"><path codeLine="47" d="M859.97,450.1369 C1019.99,500.7069 1347.71,615.5969 1591,775.8669 C1609.15,787.8269 1622.7327,800.0902 1636.4027,814.2502" fill="none" id="AI-to-Ollama" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1640.57,818.5669,1637.1968,809.3137,1637.0973,814.9696,1631.4413,814.8701,1640.57,818.5669" style="stroke:#181818;stroke-width:1;"/></g><!--link Logging to Postgres--><g class="link" data-entity-1="Logging" data-entity-2="Postgres" data-source-line="48" data-uid="lnk33" id="link_Logging_Postgres"><path codeLine="48" d="M907.74,721.3269 C989.08,741.9769 1086.24,766.4269 1096,767.8669 C1172.16,779.0369 1194.08,758.1969 1269,775.8669 C1307.23,784.8769 1342.2999,800.091 1373.0699,815.711" fill="none" id="Logging-to-Postgres" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1378.42,818.4269,1372.2054,810.7862,1373.9616,816.1636,1368.5842,817.9197,1378.42,818.4269" style="stroke:#181818;stroke-width:1;"/></g><!--SRC=[TLN1Rjms4BthAwO-f2soWUy6N41n74V5RjQr7VJIorYSbObmoGr9RPqK_PYWXw85V3Bw1Vgn3aLIMidn7XRQdPatmpVlKTy9saXDS7L-TbE-lrYUGwtGkQBmqYk2qdvgfIVVMeJNM7yaBM1bTFUef3Vy95g5jYY-Fps5IcyialEsxRDFJuiT5s13S3GD7S4V1V1dR7bqQPnlB5t_ilnD__0Q7S7xizK2RghBQW4VNDjzjTAu1RoJpdUFLjRcnoD01wdEpV7MIk4MORbSCLvLmjBKg69933qPm9ej-Jjg7Ro42uiRrCYbg-uVpzsux0MiRntPFTvA9GKAYcWh2l4d_QzvJk81H69mRnmSmqhgQisefTtY5zAu9SqaNhvvwu2pTyR6OqRaQsyiarVy6TbTTO_CDSC8X7AdUARkx-ulCw7vuF_CyNomyhBYGIhjoMwmfhX1ufdUelCXo0lU6Qazaxt7SD8URW7OUfusmySHEV_RJLf_Do8lJIFrCN-RrY_Wvrzl5j3cZIOSpfzZVDWfWu9fFx_t5cilZHuXKv2PMm25UEI2sVRyqnplq7hTRc_9fWwnuCcS5QnjVHU4YTC6QrvQ_pSmiKmMhsDhL1cUcPZQ62juVqbBwH3L7Fui64bkcBCf-1KrbWjORBPxS85JnYIULWYf6tw-JGQ8m0dcynp-1kzdm6T6krPvJBuHn5lUIfuJLVVmgJK-ZSgLSx0hOlbvRZ-YNL3czVo-9XMO3ZbP4CByhWEf4JBMpr63NOtzp5iiMo7zY3twc67tKdJ_wbe66fHfNDYZsUNk4JyXpHkmgfemz8jin8di70ntZWYtntPmysZt29zmijckI8Nc__7UsL_15gzU_TJB54vcJXYYIPCdxA2znDxLGooomp5dsA6IDzJaunrd7YFBHP5m-eRL07UWwAJu1pvIKKRyB94XtUs8kT26Bneblw10LmmveO0LCEIoq08yZdgnes2cPNcV9s2faRq_1DNI1P7GuIABqE2PYhhxgcg-oiAQ9Tzwd50aWfwf6CK0_Av2LUIrJ_DheuYf3HAQP6Hfv0CFCdZklTKlEbGEhvU3fUHxUK9CJkodI2PaNWSQlXKF9iqBJ2-bmwbpoVy0]--></g></svg>